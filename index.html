<!DOCTYPE html>
<html>
<head></head>
<body>
  <input id="link" type="text" placeholder="Insert Link...">
  <input id="title" type="text" placeholder="Insert Title...">
  <input type="file" id="myFile" name="filename">
  <button onclick="openGame()">Open Game</button>
  <script>
    function openGame() {
      var win = window.open();
      var url = document.getElementById("link").value;
      if (!url.startsWith('http://') && !url.startsWith('https://')) {
        url = 'https://' + url;
      }
      var iframe = win.document.createElement('iframe');
      iframe.style.width = "100%";
      iframe.style.height = "100%";
      iframe.style.border = "none";
      iframe.src = url;
      win.document.body.appendChild(iframe);
      win.document.title = document.getElementById("title").value;
      var button = document.createElement("button");
      button.innerHTML = "Start Auto Clicker"
      var body = document.getElementsByTagName("body")[0];
      body.appendChild(button);
      button.addEventListener ("click", function() {
        if(stop===0) {
	        stop = 1
	        button.innerHTML = "Start Auto Clicker"
	      } 
        else if(stop===1) {
	        stop = 0
	        button.innerHTML = "Stop Auto Clicker"
	      }
      });
      var bttn = document.getElementById("bttnClick");
      var stop = 1;
      function click() {
       if(stop===0) {
          let _button=0;
	  let _ID;
	  document.body.addEventListener('mousedown', (e)=>{if(e.button===_button){_ID=_ID||setInterval(()=>e.target.click(),1)}});
	  document.body.addEventListener('mouseup', (e)=>{if(e.button===_button){clearInterval(_ID);_ID=0}});;
        }
      };
      setInterval("click()", 1);
      var file = document.getElementById("myFile").files[0];
      if (file) {
        var reader = new FileReader();
        reader.onload = function(e) {
          var link = win.document.createElement('link');
          link.rel = "icon";
          link.type = "image/png";
          link.href = e.target.result;
          win.document.head.appendChild(link);
        }
        reader.readAsDataURL(file);
      }
      // Adding the inspect button and its functionality
      var insbutn = win.document.createElement('button');
      insbutn.textContent = "Inspect";
      win.document.body.appendChild(insbutn);
      win.document.getElementById("insbutn").onclick=inspct;
    }
    function inspct() {
        var script = win.document.createElement('script');
        script.src = "https://cdn.jsdelivr.net/npm/eruda";
        win.document.body.appendChild(script);
        script.onload = function load() {
          eruda.init();
        }
    }
  </script>
</body>
